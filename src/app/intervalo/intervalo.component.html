<h2 style="display: flex; justify-content: center; align-items: center">{{ title + this.pozoService.pozo.nombrePozo }}</h2>

<div
  *ngIf="dataSource?.data.length > 0; else noRecord"
  class="example-container mat-elevation-z8"
>
  <mat-table #table [dataSource]="dataSource" matSort>
    <!--  Columna camisa-->
    <ng-container matColumnDef="camisa">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        camisa</mat-header-cell
      >
      <mat-cell *matCellDef="let row"> {{ row.camisa }} </mat-cell>
    </ng-container>

    <!--  Columna precioC-->
    <ng-container matColumnDef="precioC">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        precioCamisa</mat-header-cell
      >
      <mat-cell *matCellDef="let row"> {{ row.precioC | currency }} </mat-cell>
    </ng-container>

    <!--  Columna barrena-->
    <ng-container matColumnDef="barrena">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        barrena</mat-header-cell
      >
      <mat-cell *matCellDef="let row"> {{ row.barrena }} </mat-cell>
    </ng-container>

    <!--  Columna barrena-->
    <ng-container matColumnDef="precioB">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        precioBarrena</mat-header-cell
      >
      <mat-cell *matCellDef="let row"> {{ row.precioB | currency }} </mat-cell>
    </ng-container>

    <!--  Columna longitud-->
    <ng-container matColumnDef="longitud">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        Longitud</mat-header-cell
      >
      <mat-cell *matCellDef="let row"> {{ row.longitud }} </mat-cell>
    </ng-container>

    <!--  Columna longitud-->
    <ng-container matColumnDef="PrecioTotal">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        PrecioTotal</mat-header-cell
      >
      <mat-cell *matCellDef="let row">
        {{ calcularMonto(row) | currency }}
      </mat-cell>
    </ng-container>

    <!--  Columna Editar-->

    <ng-container matColumnDef="Editar">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        Editar</mat-header-cell
      >
      <mat-cell *matCellDef="let row">
        <button
          mat-raised-button
          color="primary"
          [routerLink]="['/intervalos/form', row.intervaloId]"
          focusable="false"
        >
          Editar
        </button>
      </mat-cell>
    </ng-container>

    <!--  Columna Editar-->

    <ng-container matColumnDef="Borrar">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        Borrar</mat-header-cell
      >
      <mat-cell *matCellDef="let row">
        <button
          mat-raised-button
          color="warn"
          (click)="delete(row.intervaloId)"
          focusable="false"
        >
          Borrar
        </button>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="Recursos">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        Recursos</mat-header-cell
      >
      <mat-cell *matCellDef="let row">
        <button
          mat-raised-button
          color="accent"
          (click)="VerRec(row)"
          focusable="false"
        >
          Recursos
        </button>
      </mat-cell>
    </ng-container>

    <mat-header-row
      *matHeaderRowDef="displayedColumns"
      class="encabezado"
    ></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>


  <h1>Esquema de Perforacion</h1>
  <!-- *ngIf="dataSource?.data.length===3" -->
  <div  class="contenedor">
    <mat-card class="example-card">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <!-- <mat-card-title>Shiba Inu</mat-card-title> -->
      </mat-card-header>
      <img
        mat-card-image
        src="../../assets/images/{{ cont }}.png"
        alt="Photo of a Shiba Inu"
      />
      <div class="texto-encima">Texto</div>

      <div *ngIf="cont == 1">
        <div class="primario">{{ dataSource.data[0].camisa }}</div>
      </div>

      <div *ngIf="cont == 2">
        <div class="primario">{{ dataSource.data[0].camisa }}</div>

        <div class="segundado">{{ dataSource.data[1].camisa }}</div>
      </div>
      <div *ngIf="cont == 3">
        <div class="primario">{{ dataSource.data[0].camisa }}</div>

        <div class="segundado">{{ dataSource.data[1].camisa }}</div>

        <div class="centrado">{{ dataSource.data[2].camisa }}</div>
      </div>
      <div *ngIf="cont == 4">
        
        <div class="primario">{{ dataSource.data[0].camisa }}</div>

        <div class="segundado">{{ dataSource.data[1].camisa }}</div>

        <div class="centrado">{{ dataSource.data[2].camisa }}</div>

        <div class="cuarto">{{ dataSource.data[3].camisa }}</div>
      </div>

      <div *ngIf="cont == 5">
        <div class="primario">{{ dataSource.data[0].camisa }}</div>

        <div class="segundado">{{ dataSource.data[1].camisa }}</div>

        <div class="centrado">{{ dataSource.data[2].camisa }}</div>

        <div class="cuarto">{{ dataSource.data[3].camisa }}</div>

        <div class="quinto">{{ dataSource.data[4].camisa }}</div>
      </div>
    </mat-card>
  </div>
</div>

<ng-template #noRecord>
    <mat-card class="example-container mat-elevation-z8">
  <div style="display: flex; justify-content: center; align-items: center" >
    <img  class="example-card-image"
        mat-card-image
        src="../../assets/images/caca.png"
        alt="Photo of a Shiba Inu"
      />
    <h3 style="margin: 50px;">
       
      !!!!!No hay registros en la BD!!!!!.
    </h3>
    <img  class="example-card-image"
    mat-card-image
    src="../../assets/images/mono.png"
    alt="Photo of a Shiba Inu"
  />
  </div>
    </mat-card>
</ng-template>

<div>
  <button mat-raised-button (click)="goBack()">Volver</button>
  <button [routerLink]="['/intervalos/form']" mat-raised-button color="accent">
    Adicionar Intervalo
  </button>
  <button [routerLink]="['/servicios']" mat-raised-button color="primary">
    Servicios
  </button>

</div>
<h3>Gran Total:{{ sum | currency }}</h3>

<h3> Total Barrenas:{{ sumBarrenas | currency }}</h3>

<h3> Total Casing y Accesorios:{{ sumCasingYacces | currency }}</h3>

<mat-card
  *ngIf="isLoading"
  style="display: flex; justify-content: center; align-items: center"
>
  <mat-progress-spinner color="primary" mode="indeterminate">
  </mat-progress-spinner>
</mat-card>

